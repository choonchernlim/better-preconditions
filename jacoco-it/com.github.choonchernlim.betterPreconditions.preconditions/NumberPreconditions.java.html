<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>NumberPreconditions.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Better Preconditions</a> &gt; <a href="index.source.html" class="el_package">com.github.choonchernlim.betterPreconditions.preconditions</a> &gt; <span class="el_source">NumberPreconditions.java</span></div><h1>NumberPreconditions.java</h1><pre class="source lang-java linenums"><span class="fc" id="L1">package com.github.choonchernlim.betterPreconditions.preconditions;</span>

import com.github.choonchernlim.betterPreconditions.core.Matcher;
import com.github.choonchernlim.betterPreconditions.core.PreconditionException;
import com.github.choonchernlim.betterPreconditions.core.Preconditions;
import com.github.choonchernlim.betterPreconditions.exception.NumberEqualOrGreaterThanPreconditionException;
import com.github.choonchernlim.betterPreconditions.exception.NumberEqualOrLessThanPreconditionException;
import com.github.choonchernlim.betterPreconditions.exception.NumberEqualPreconditionException;
import com.github.choonchernlim.betterPreconditions.exception.NumberGreaterThanPreconditionException;
import com.github.choonchernlim.betterPreconditions.exception.NumberLessThanPreconditionException;
import com.github.choonchernlim.betterPreconditions.exception.NumberNotEqualOrGreaterThanPreconditionException;
import com.github.choonchernlim.betterPreconditions.exception.NumberNotEqualOrLessThanPreconditionException;
import com.github.choonchernlim.betterPreconditions.exception.NumberNotEqualPreconditionException;
import com.github.choonchernlim.betterPreconditions.exception.NumberNotGreaterThanPreconditionException;
import com.github.choonchernlim.betterPreconditions.exception.NumberNotLessThanPreconditionException;

import java.math.BigDecimal;
import java.math.BigInteger;
import java.util.concurrent.atomic.AtomicInteger;
import java.util.concurrent.atomic.AtomicLong;

public class NumberPreconditions extends Preconditions&lt;NumberPreconditions, Number&gt; {

    private static final String DEFAULT_EXPECTED_LABEL = &quot;Expected Number&quot;;
    private static final String DEFAULT_VALUE_LABEL = DEFAULT_EXPECTED_LABEL + &quot; Label&quot;;

    protected NumberPreconditions(Number value, String label) {
<span class="fc" id="L28">        super(value, label);</span>
<span class="fc" id="L29">    }</span>

    /**
     * Ensures given number is equal to expected value.
     *
     * @see NumberPreconditions#toBeEqual(Number, String)
     */
    @Override
    public NumberPreconditions toBeEqual(final Number expectedValue) {
<span class="fc" id="L38">        return toBeEqual(expectedValue, DEFAULT_EXPECTED_LABEL);</span>
    }

    /**
     * Ensures given number is equal to expected value.
     *
     * @param expectedValue Second value
     * @param expectedLabel Second label
     * @return Current instance
     */
    @Override
    public NumberPreconditions toBeEqual(final Number expectedValue, final String expectedLabel) {
<span class="fc" id="L50">        expectValueLabelToExist(expectedValue, expectedLabel, DEFAULT_VALUE_LABEL);</span>

<span class="fc" id="L52">        return customMatcher(new Matcher&lt;Number&gt;() {</span>
            @Override
            public boolean match(final Number givenValue, final String givenLabel) {
<span class="fc" id="L55">                expectNotNullAndSameType(givenValue, givenLabel, expectedValue, expectedLabel);</span>

<span class="fc bfc" id="L57" title="All 2 branches covered.">                return compareTo(givenValue, expectedValue) == 0;</span>
            }

            @Override
            public PreconditionException getException(final Number givenValue, final String givenLabel) {
<span class="fc" id="L62">                return new NumberNotEqualPreconditionException(givenValue, givenLabel, expectedValue, expectedLabel);</span>
            }

            @Override
            public PreconditionException getNegatedException(final Number givenValue, final String givenLabel) {
<span class="fc" id="L67">                return new NumberEqualPreconditionException(givenValue, givenLabel, expectedValue, expectedLabel);</span>
            }
        });
    }

    /**
     * Ensures given number is equal to or greater than expected value.
     *
     * @see NumberPreconditions#toBeEqualOrGreaterThan(Number, String)
     */
    public NumberPreconditions toBeEqualOrGreaterThan(final Number expectedValue) {
<span class="fc" id="L78">        return toBeEqualOrGreaterThan(expectedValue, DEFAULT_EXPECTED_LABEL);</span>
    }

    /**
     * Ensures given number is equal to or greater than expected value.
     *
     * @param expectedValue Second value
     * @param expectedLabel Second label
     * @return Current instance
     */
    public NumberPreconditions toBeEqualOrGreaterThan(final Number expectedValue, final String expectedLabel) {
<span class="fc" id="L89">        expectValueLabelToExist(expectedValue, expectedLabel, DEFAULT_VALUE_LABEL);</span>

<span class="fc" id="L91">        return customMatcher(new Matcher&lt;Number&gt;() {</span>
            @Override
            public boolean match(final Number givenValue, final String givenLabel) {
<span class="fc" id="L94">                expectNotNullAndSameType(givenValue, givenLabel, expectedValue, expectedLabel);</span>

<span class="fc bfc" id="L96" title="All 2 branches covered.">                return compareTo(givenValue, expectedValue) &gt;= 0;</span>
            }

            @Override
            public PreconditionException getException(final Number givenValue, final String givenLabel) {
<span class="fc" id="L101">                return new NumberNotEqualOrGreaterThanPreconditionException(givenValue,</span>
<span class="fc" id="L102">                                                                            givenLabel,</span>
<span class="fc" id="L103">                                                                            expectedValue,</span>
<span class="fc" id="L104">                                                                            expectedLabel);</span>
            }

            @Override
            public PreconditionException getNegatedException(final Number givenValue, final String givenLabel) {
<span class="fc" id="L109">                return new NumberEqualOrGreaterThanPreconditionException(givenValue,</span>
<span class="fc" id="L110">                                                                         givenLabel,</span>
<span class="fc" id="L111">                                                                         expectedValue,</span>
<span class="fc" id="L112">                                                                         expectedLabel);</span>
            }
        });
    }

    /**
     * Ensures given number is greater than expected value.
     *
     * @see NumberPreconditions#toBeGreaterThan(Number, String)
     */
    public NumberPreconditions toBeGreaterThan(final Number expectedValue) {
<span class="fc" id="L123">        return toBeGreaterThan(expectedValue, DEFAULT_EXPECTED_LABEL);</span>
    }

    /**
     * Ensures given number is greater than expected value.
     *
     * @param expectedValue Second value
     * @param expectedLabel Second label
     * @return Current instance
     */
    public NumberPreconditions toBeGreaterThan(final Number expectedValue, final String expectedLabel) {
<span class="fc" id="L134">        expectValueLabelToExist(expectedValue, expectedLabel, DEFAULT_VALUE_LABEL);</span>

<span class="fc" id="L136">        return customMatcher(new Matcher&lt;Number&gt;() {</span>
            @Override
            public boolean match(final Number givenValue, final String givenLabel) {
<span class="fc" id="L139">                expectNotNullAndSameType(givenValue, givenLabel, expectedValue, expectedLabel);</span>

<span class="fc bfc" id="L141" title="All 2 branches covered.">                return compareTo(givenValue, expectedValue) &gt; 0;</span>
            }

            @Override
            public PreconditionException getException(final Number givenValue, final String givenLabel) {
<span class="fc" id="L146">                return new NumberNotGreaterThanPreconditionException(givenValue,</span>
<span class="fc" id="L147">                                                                     givenLabel,</span>
<span class="fc" id="L148">                                                                     expectedValue,</span>
<span class="fc" id="L149">                                                                     expectedLabel);</span>
            }

            @Override
            public PreconditionException getNegatedException(final Number givenValue, final String givenLabel) {
<span class="fc" id="L154">                return new NumberGreaterThanPreconditionException(givenValue,</span>
<span class="fc" id="L155">                                                                  givenLabel,</span>
<span class="fc" id="L156">                                                                  expectedValue,</span>
<span class="fc" id="L157">                                                                  expectedLabel);</span>
            }
        });
    }

    /**
     * Ensures given number is equal to or less than expected value.
     *
     * @see NumberPreconditions#toBeEqualOrLessThan(Number, String)
     */
    public NumberPreconditions toBeEqualOrLessThan(final Number expectedValue) {
<span class="fc" id="L168">        return toBeEqualOrLessThan(expectedValue, DEFAULT_EXPECTED_LABEL);</span>
    }

    /**
     * Ensures given number is equal to or less than expected value.
     *
     * @param expectedValue Second value
     * @param expectedLabel Second label
     * @return Current instance
     */
    public NumberPreconditions toBeEqualOrLessThan(final Number expectedValue, final String expectedLabel) {
<span class="fc" id="L179">        expectValueLabelToExist(expectedValue, expectedLabel, DEFAULT_VALUE_LABEL);</span>

<span class="fc" id="L181">        return customMatcher(new Matcher&lt;Number&gt;() {</span>
            @Override
            public boolean match(final Number givenValue, final String givenLabel) {
<span class="fc" id="L184">                expectNotNullAndSameType(givenValue, givenLabel, expectedValue, expectedLabel);</span>

<span class="fc bfc" id="L186" title="All 2 branches covered.">                return compareTo(givenValue, expectedValue) &lt;= 0;</span>
            }

            @Override
            public PreconditionException getException(final Number givenValue, final String givenLabel) {
<span class="fc" id="L191">                return new NumberNotEqualOrLessThanPreconditionException(givenValue,</span>
<span class="fc" id="L192">                                                                         givenLabel,</span>
<span class="fc" id="L193">                                                                         expectedValue,</span>
<span class="fc" id="L194">                                                                         expectedLabel);</span>
            }

            @Override
            public PreconditionException getNegatedException(final Number givenValue, final String givenLabel) {
<span class="fc" id="L199">                return new NumberEqualOrLessThanPreconditionException(givenValue,</span>
<span class="fc" id="L200">                                                                      givenLabel,</span>
<span class="fc" id="L201">                                                                      expectedValue,</span>
<span class="fc" id="L202">                                                                      expectedLabel);</span>
            }
        });
    }

    /**
     * Ensures given number is less than expected value.
     *
     * @see NumberPreconditions#toBeLessThan(Number, String)
     */
    public NumberPreconditions toBeLessThan(final Number expectedValue) {
<span class="fc" id="L213">        return toBeLessThan(expectedValue, DEFAULT_EXPECTED_LABEL);</span>
    }

    /**
     * Ensures given number is less than expected value.
     *
     * @param expectedValue Second value
     * @param expectedLabel Second label
     * @return Current instance
     */
    public NumberPreconditions toBeLessThan(final Number expectedValue, final String expectedLabel) {
<span class="fc" id="L224">        expectValueLabelToExist(expectedValue, expectedLabel, DEFAULT_VALUE_LABEL);</span>

<span class="fc" id="L226">        return customMatcher(new Matcher&lt;Number&gt;() {</span>
            @Override
            public boolean match(final Number givenValue, final String givenLabel) {
<span class="fc" id="L229">                expectNotNullAndSameType(givenValue, givenLabel, expectedValue, expectedLabel);</span>

<span class="fc bfc" id="L231" title="All 2 branches covered.">                return compareTo(givenValue, expectedValue) &lt; 0;</span>
            }

            @Override
            public PreconditionException getException(final Number givenValue, final String givenLabel) {
<span class="fc" id="L236">                return new NumberNotLessThanPreconditionException(givenValue,</span>
<span class="fc" id="L237">                                                                  givenLabel,</span>
<span class="fc" id="L238">                                                                  expectedValue,</span>
<span class="fc" id="L239">                                                                  expectedLabel);</span>
            }

            @Override
            public PreconditionException getNegatedException(final Number givenValue, final String givenLabel) {
<span class="fc" id="L244">                return new NumberLessThanPreconditionException(givenValue,</span>
<span class="fc" id="L245">                                                               givenLabel,</span>
<span class="fc" id="L246">                                                               expectedValue,</span>
<span class="fc" id="L247">                                                               expectedLabel);</span>
            }
        });
    }

    private int compareTo(Number givenValue, Number expectedValue) {
<span class="fc bfc" id="L253" title="All 2 branches covered.">        if (givenValue instanceof Integer) {</span>
<span class="fc" id="L254">            return ((Integer) givenValue).compareTo((Integer) expectedValue);</span>
        }
<span class="fc bfc" id="L256" title="All 2 branches covered.">        else if (givenValue instanceof Double) {</span>
<span class="fc" id="L257">            return ((Double) givenValue).compareTo((Double) expectedValue);</span>
        }
<span class="fc bfc" id="L259" title="All 2 branches covered.">        else if (givenValue instanceof Float) {</span>
<span class="fc" id="L260">            return ((Float) givenValue).compareTo((Float) expectedValue);</span>
        }
<span class="fc bfc" id="L262" title="All 2 branches covered.">        else if (givenValue instanceof Long) {</span>
<span class="fc" id="L263">            return ((Long) givenValue).compareTo((Long) expectedValue);</span>
        }
<span class="fc bfc" id="L265" title="All 2 branches covered.">        else if (givenValue instanceof Short) {</span>
<span class="fc" id="L266">            return ((Short) givenValue).compareTo((Short) expectedValue);</span>
        }
<span class="fc bfc" id="L268" title="All 2 branches covered.">        else if (givenValue instanceof Byte) {</span>
<span class="fc" id="L269">            return ((Byte) givenValue).compareTo((Byte) expectedValue);</span>
        }
<span class="fc bfc" id="L271" title="All 2 branches covered.">        else if (givenValue instanceof BigInteger) {</span>
<span class="fc" id="L272">            return ((BigInteger) givenValue).compareTo((BigInteger) expectedValue);</span>
        }
<span class="fc bfc" id="L274" title="All 2 branches covered.">        else if (givenValue instanceof BigDecimal) {</span>
<span class="fc" id="L275">            return ((BigDecimal) givenValue).compareTo((BigDecimal) expectedValue);</span>
        }
<span class="fc bfc" id="L277" title="All 2 branches covered.">        else if (givenValue instanceof AtomicInteger) {</span>
<span class="fc" id="L278">            return ((Integer) ((AtomicInteger) givenValue).get())</span>
<span class="fc" id="L279">                    .compareTo(((AtomicInteger) expectedValue).get());</span>
        }
        else {
<span class="fc" id="L282">            return ((Long) ((AtomicLong) givenValue).get())</span>
<span class="fc" id="L283">                    .compareTo(((AtomicLong) expectedValue).get());</span>
        }
    }


}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.5.201505241946</span></div></body></html>